{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack:///./src/variables.ts","webpack:///./src/request.ts","webpack:///./src/datatypes.ts","webpack:///./src/draw.ts","webpack:///./src/websocket.ts","webpack:///./src/statistics.ts","webpack:///./src/items.ts","webpack:///./src/index.ts"],"sourcesContent":["export const BASE_URL = 'http://0.0.0.0:8080';\nlet isInPause = false;\nlet world_size = 50;\nexport function setSize(value) {\n    world_size = parseInt(value);\n    const elem = document.getElementById(\"w-size\");\n    if (elem) {\n        elem.textContent = value;\n    }\n}\nexport function getWorldSize() {\n    return world_size;\n}\nexport function setSeed(value) {\n    const elem = document.getElementById(\"w-seed\");\n    if (elem) {\n        elem.textContent = value;\n    }\n}\nexport function setRobot(value) {\n    const elem = document.getElementById(\"w-robot\");\n    if (elem) {\n        elem.textContent = value;\n    }\n}\nexport function getRobot() {\n    const elem = document.getElementById(\"w-robot\");\n    if (elem) {\n        return elem.textContent;\n    }\n    else {\n        return \"\";\n    }\n}\nexport function IsInPause() {\n    return isInPause;\n}\nexport function setIsInPause(v) {\n    isInPause = v;\n}\n","export var Command;\n(function (Command) {\n    Command[\"Start\"] = \"Start\";\n    Command[\"Stop\"] = \"Stop\";\n    Command[\"Pause\"] = \"Pause\";\n    Command[\"Resume\"] = \"Resume\";\n})(Command || (Command = {}));\n","export var WeatherType;\n(function (WeatherType) {\n    WeatherType[\"Sunny\"] = \"Sunny\";\n    WeatherType[\"Rainy\"] = \"Rainy\";\n    WeatherType[\"Foggy\"] = \"Foggy\";\n    WeatherType[\"TropicalMonsoon\"] = \"TropicalMonsoon\";\n    WeatherType[\"TrentinoSnow\"] = \"TrentinoSnow\";\n})(WeatherType || (WeatherType = {}));\nexport var DayTime;\n(function (DayTime) {\n    DayTime[\"Morning\"] = \"Morning\";\n    DayTime[\"Afternoon\"] = \"Afternoon\";\n    DayTime[\"Night\"] = \"Night\";\n})(DayTime || (DayTime = {}));\nexport var TileType;\n(function (TileType) {\n    TileType[\"DeepWater\"] = \"DeepWater\";\n    TileType[\"ShallowWater\"] = \"ShallowWater\";\n    TileType[\"Sand\"] = \"Sand\";\n    TileType[\"Grass\"] = \"Grass\";\n    TileType[\"Street\"] = \"Street\";\n    TileType[\"Hill\"] = \"Hill\";\n    TileType[\"Mountain\"] = \"Mountain\";\n    TileType[\"Snow\"] = \"Snow\";\n    TileType[\"Lava\"] = \"Lava\";\n    TileType[\"Teleport\"] = \"Teleport\";\n    TileType[\"Wall\"] = \"Wall\";\n})(TileType || (TileType = {}));\nexport var ContentType;\n(function (ContentType) {\n    ContentType[\"Rock\"] = \"Rock\";\n    ContentType[\"Tree\"] = \"Tree\";\n    ContentType[\"Garbage\"] = \"Garbage\";\n    ContentType[\"Fire\"] = \"Fire\";\n    ContentType[\"Coin\"] = \"Coin\";\n    ContentType[\"Bin\"] = \"Bin\";\n    ContentType[\"Crate\"] = \"Crate\";\n    ContentType[\"Bank\"] = \"Bank\";\n    ContentType[\"Water\"] = \"Water\";\n    ContentType[\"Market\"] = \"Market\";\n    ContentType[\"Fish\"] = \"Fish\";\n    ContentType[\"Building\"] = \"Building\";\n    ContentType[\"Bush\"] = \"Bush\";\n    ContentType[\"JollyBlock\"] = \"JollyBlock\";\n    ContentType[\"Scarecrow\"] = \"Scarecrow\";\n    ContentType[\"None\"] = \"None\";\n})(ContentType || (ContentType = {}));\n","import { ContentType, TileType } from \"./datatypes\";\nimport { getWorldSize, setSize } from \"./variables\";\nlet CANVAS_SIDE;\nlet TILE_SIZE;\nconst BIN_IMAGE = new Image();\nBIN_IMAGE.src = 'dist/tiles/bin.webp';\nconst CHEST_IMAGE = new Image();\nCHEST_IMAGE.src = 'dist/tiles/chest.webp';\nconst COBBLESTONE = new Image();\nCOBBLESTONE.src = 'dist/tiles/cobblestone.webp';\nconst COIN_IMAGE = new Image();\nCOIN_IMAGE.src = 'dist/tiles/coin.svg';\nconst CRATE_IMAGE = new Image();\nCRATE_IMAGE.src = 'dist/tiles/crate.webp';\nconst DEEP_WATER_IMAGE = new Image();\nDEEP_WATER_IMAGE.src = 'dist/tiles/deep_water.webp';\nconst HILL_IMAGE = new Image();\nHILL_IMAGE.src = 'dist/tiles/dirt.webp';\nconst FIRE_IMAGE = new Image();\nFIRE_IMAGE.src = 'dist/tiles/fire.svg';\nconst FISH_IMAGE = new Image();\nFISH_IMAGE.src = 'dist/tiles/fish.webp';\nconst GRASS_IMAGE = new Image();\nGRASS_IMAGE.src = 'dist/tiles/grass.webp';\nconst LAVA_IMAGE = new Image();\nLAVA_IMAGE.src = 'dist/tiles/lava.webp';\nconst MARKET_IMAGE = new Image();\nMARKET_IMAGE.src = 'dist/tiles/market.webp';\nconst TELEPORT_IMAGE = new Image();\nTELEPORT_IMAGE.src = 'dist/tiles/portal.webp';\nconst SAND_IMAGE = new Image();\nSAND_IMAGE.src = 'dist/tiles/sand.webp';\nconst SNOW_IMAGE = new Image();\nSNOW_IMAGE.src = 'dist/tiles/snow.webp';\nconst STREET_IMAGE = new Image();\nSTREET_IMAGE.src = 'dist/tiles/street.webp';\nconst TRASH_IMAGE = new Image();\nTRASH_IMAGE.src = 'dist/tiles/trash.png';\nconst TREE_IMAGE = new Image();\nTREE_IMAGE.src = 'dist/tiles/tree.webp';\nconst WALL_IMAGE = new Image();\nWALL_IMAGE.src = 'dist/tiles/wall.webp';\nconst WATER_IMAGE = new Image();\nWATER_IMAGE.src = 'dist/tiles/water.webp';\nconst STONE_IMAGE = new Image();\nSTONE_IMAGE.src = 'dist/tiles/stone.webp';\nconst BUSH_IMAGE = new Image();\nBUSH_IMAGE.src = 'dist/tiles/bush.webp';\nconst SCARECROW = new Image();\nSCARECROW.src = 'dist/tiles/scarecrow.svg';\nconst LUCKY_IMAGE = new Image();\nLUCKY_IMAGE.src = 'dist/tiles/lucky.webp';\nconst ROBOT_IMAGE = new Image();\nROBOT_IMAGE.src = 'dist/tiles/creeper.jpg';\nexport function resizeCanvas() {\n    const canvas = document.getElementById('draw-area');\n    const sidebarWidth = 200;\n    const verticalMargin = 10;\n    CANVAS_SIDE = Math.min(window.innerWidth - sidebarWidth * 2, window.innerHeight - verticalMargin * 2);\n    TILE_SIZE = Math.floor(CANVAS_SIDE / getWorldSize());\n    CANVAS_SIDE = TILE_SIZE * getWorldSize();\n    if (canvas) {\n        canvas.width = CANVAS_SIDE;\n        canvas.height = CANVAS_SIDE;\n    }\n}\nexport function drawMap(world_map, coordinate) {\n    resizeCanvas();\n    setSize(world_map.length.toString());\n    const canvas = document.getElementById('draw-area');\n    const ctx = canvas.getContext('2d');\n    if (!ctx)\n        return;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    for (let row = 0; row < world_map.length; row++) {\n        for (let col = 0; col < world_map.length; col++) {\n            const tile = world_map[row][col];\n            if (tile) {\n                const x = col * TILE_SIZE;\n                const y = row * TILE_SIZE;\n                switch (tile.tile_type) {\n                    case TileType.DeepWater:\n                        ctx.drawImage(DEEP_WATER_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case TileType.ShallowWater:\n                        ctx.drawImage(WATER_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case TileType.Sand:\n                        ctx.drawImage(SAND_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case TileType.Grass:\n                        ctx.drawImage(GRASS_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case TileType.Street:\n                        ctx.drawImage(STREET_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case TileType.Hill:\n                        ctx.drawImage(HILL_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case TileType.Mountain:\n                        ctx.drawImage(STONE_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case TileType.Snow:\n                        ctx.drawImage(SNOW_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case TileType.Lava:\n                        ctx.drawImage(LAVA_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case TileType.Teleport:\n                        ctx.drawImage(TELEPORT_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case TileType.Wall:\n                        ctx.drawImage(WALL_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                }\n                switch (tile.content) {\n                    case ContentType.Rock:\n                        ctx.drawImage(COBBLESTONE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case ContentType.Tree:\n                        ctx.drawImage(TREE_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case ContentType.Garbage:\n                        ctx.drawImage(TRASH_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case ContentType.Fire:\n                        ctx.drawImage(FIRE_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case ContentType.Coin:\n                        ctx.drawImage(COIN_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case ContentType.Bin:\n                        ctx.drawImage(BIN_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case ContentType.Crate:\n                        ctx.drawImage(CRATE_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case ContentType.Bank:\n                        ctx.drawImage(CHEST_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case ContentType.Market:\n                        ctx.drawImage(MARKET_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case ContentType.Fish:\n                        ctx.drawImage(FISH_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case ContentType.Bush:\n                        ctx.drawImage(BUSH_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case ContentType.Scarecrow:\n                        ctx.drawImage(SCARECROW, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case ContentType.JollyBlock:\n                        ctx.drawImage(LUCKY_IMAGE, x, y, TILE_SIZE, TILE_SIZE);\n                        break;\n                    case ContentType.Building:\n                    case ContentType.Water:\n                    case ContentType.None:\n                        break;\n                }\n            }\n        }\n    }\n    ctx.drawImage(ROBOT_IMAGE, (coordinate.col * TILE_SIZE), (coordinate.row * TILE_SIZE), TILE_SIZE, TILE_SIZE);\n    ctx.strokeStyle = '#f00';\n    ctx.lineWidth = 4;\n    ctx.strokeRect((coordinate.col * TILE_SIZE), (coordinate.row * TILE_SIZE), TILE_SIZE, TILE_SIZE);\n}\n","import { Command } from './request';\nimport { BASE_URL, getRobot } from \"./variables\";\nimport { addEventEntry, setBackpack, setCoordinates, setEnergy, setTime, setWeather } from \"./statistics\";\nimport { drawMap } from \"./draw\";\nconst commandSocket = new WebSocket(`${BASE_URL.replace('http', 'ws')}/commands`);\nlet updatesSocket;\nexport function sendCommand(command) {\n    const request = {\n        command: command\n    };\n    if (commandSocket.readyState === WebSocket.OPEN) {\n        commandSocket.send(JSON.stringify(request));\n    }\n    else {\n        alert(`Command socket is not open. ${commandSocket.readyState}`);\n    }\n}\nexport function initUpdateSockets() {\n    updatesSocket = new WebSocket(`${BASE_URL.replace('http', 'ws')}/updates`);\n    commandSocket.onclose = () => {\n        console.log('Disconnected from command socket');\n    };\n    commandSocket.onerror = (error) => {\n        alert(`WebSocket error:${error}`);\n    };\n    updatesSocket.onopen = () => {\n        console.log('connected to updates socket ');\n    };\n    updatesSocket.onclose = (event) => {\n        console.log('Disconnected from update socket', event);\n    };\n    updatesSocket.onmessage = (event) => {\n        try {\n            const update = JSON.parse(event.data);\n            setCoordinates(update.robot_data.coordinate);\n            setEnergy(update.robot_data.energy_level);\n            setBackpack(update.robot_data.backpack);\n            setTime(update.environment);\n            setWeather(update.environment);\n            drawMap(update.map, update.robot_data.coordinate);\n            addEventEntry(update.event);\n            console.log(update.event);\n            if (update.event.includes('Terminated')) {\n                alert(`${getRobot()} terminated his job, reload the page to start over`);\n                sendCommand(Command.Stop);\n                closeSockets();\n            }\n        }\n        catch (error) {\n            console.error(event.data);\n            alert(`Error deserializing update:${error}`);\n        }\n    };\n}\nexport function closeSockets() {\n    updatesSocket.close();\n    commandSocket.close();\n}\n","import { DayTime, WeatherType } from \"./datatypes\";\nimport { setBushNumber, setCoinNumber, setFireNumber, setFishNumber, setJollyNumber, setStoneNumber, setTrashNumber, setWaterNumber, setWoodNumber } from \"./items\";\nexport function setEnergy(value) {\n    const elem = document.getElementById(\"energy\");\n    if (elem) {\n        elem.textContent = value.toString();\n    }\n}\nexport function setTime(value) {\n    let elem = document.getElementById(\"time\");\n    if (elem) {\n        elem.textContent = value.time;\n    }\n    elem = document.getElementById(\"day-time\");\n    if (elem) {\n        elem.textContent = value.day_time.toString() + ', ' + value.weather.toString();\n    }\n}\nexport function setCoordinates(value) {\n    const elem = document.getElementById(\"coordinates\");\n    if (elem) {\n        elem.textContent = `X: ${value.row} Y: ${value.col}`;\n    }\n}\nexport function setBackpack(backpack) {\n    setStoneNumber(backpack.Rock);\n    setWoodNumber(backpack.Tree);\n    setTrashNumber(backpack.Garbage);\n    setFireNumber(backpack.Fire);\n    setCoinNumber(backpack.Coin);\n    setWaterNumber(backpack.Water);\n    setFishNumber(backpack.Fish);\n    setBushNumber(backpack.Bush);\n    setJollyNumber(backpack.JollyBlock);\n}\nexport function setWeather(environment) {\n    const weatherImg = document.getElementById('weather');\n    if (!weatherImg) {\n        console.error('Element with id \"weather\" not found');\n        return;\n    }\n    const base = 'dist/img/';\n    if (environment.weather == WeatherType.Sunny) {\n        switch (environment.day_time) {\n            case DayTime.Morning:\n                weatherImg.src = `${base}morning.png`;\n                break;\n            case DayTime.Afternoon:\n                weatherImg.src = `${base}afternoon.png`;\n                break;\n            case DayTime.Night:\n                weatherImg.src = `${base}night.png`;\n                break;\n        }\n        return;\n    }\n    switch (environment.weather) {\n        case WeatherType.Rainy:\n            weatherImg.src = `${base}rain.png`;\n            break;\n        case WeatherType.Foggy:\n            weatherImg.src = `${base}fog.png`;\n            break;\n        case WeatherType.TropicalMonsoon:\n            weatherImg.src = `${base}storm.png`;\n            break;\n        case WeatherType.TrentinoSnow:\n            weatherImg.src = `${base}snow.png`;\n            break;\n        default:\n            weatherImg.src = '';\n            break;\n    }\n}\nexport function addEventEntry(event) {\n    const logBox = document.getElementById('log-box');\n    for (let e of event) {\n        while (logBox.children.length > 11) {\n            logBox.removeChild(logBox.firstChild);\n        }\n        const logEntry = document.createElement('div');\n        logEntry.className = 'log-entry';\n        logEntry.textContent = e;\n        logBox.appendChild(logEntry);\n    }\n    logBox.scrollTop = logBox.scrollHeight;\n}\n","function stoneShow(show) {\n    const elem = document.getElementById(\"stone\");\n    if (elem) {\n        elem.style.display = show ? \"flex\" : \"none\";\n    }\n}\nfunction woodShow(show) {\n    const elem = document.getElementById(\"wood\");\n    if (elem) {\n        elem.style.display = show ? \"flex\" : \"none\";\n    }\n}\nfunction coinShow(show) {\n    const elem = document.getElementById(\"coin\");\n    if (elem) {\n        elem.style.display = show ? \"flex\" : \"none\";\n    }\n}\nfunction fireShow(show) {\n    const elem = document.getElementById(\"fire\");\n    if (elem) {\n        elem.style.display = show ? \"flex\" : \"none\";\n    }\n}\nfunction waterShow(show) {\n    const elem = document.getElementById(\"water\");\n    if (elem) {\n        elem.style.display = show ? \"flex\" : \"none\";\n    }\n}\nfunction trashShow(show) {\n    const elem = document.getElementById(\"trash\");\n    if (elem) {\n        elem.style.display = show ? \"flex\" : \"none\";\n    }\n}\nfunction fishShow(show) {\n    const elem = document.getElementById(\"fish\");\n    if (elem) {\n        elem.style.display = show ? \"flex\" : \"none\";\n    }\n}\nfunction bushShow(show) {\n    const elem = document.getElementById(\"bush\");\n    if (elem) {\n        elem.style.display = show ? \"flex\" : \"none\";\n    }\n}\nfunction jollyShow(show) {\n    const elem = document.getElementById(\"jolly\");\n    if (elem) {\n        elem.style.display = show ? \"flex\" : \"none\";\n    }\n}\nexport function setStoneNumber(number) {\n    const elem = document.getElementById(\"stone-number\");\n    if (elem && number != undefined) {\n        elem.textContent = number.toString();\n        stoneShow(number !== 0);\n    }\n}\nexport function setWoodNumber(number) {\n    const elem = document.getElementById(\"wood-number\");\n    if (elem && number != undefined) {\n        elem.textContent = number.toString();\n        woodShow(number !== 0);\n    }\n}\nexport function setCoinNumber(number) {\n    const elem = document.getElementById(\"coin-number\");\n    if (elem && number != undefined) {\n        elem.textContent = number.toString();\n        coinShow(number !== 0);\n    }\n}\nexport function setFireNumber(number) {\n    const elem = document.getElementById(\"fire-number\");\n    if (elem && number != undefined) {\n        elem.textContent = number.toString();\n        fireShow(number !== 0);\n    }\n}\nexport function setWaterNumber(number) {\n    const elem = document.getElementById(\"water-number\");\n    if (elem && number != undefined) {\n        elem.textContent = number.toString();\n        waterShow(number !== 0);\n    }\n}\nexport function setTrashNumber(number) {\n    const elem = document.getElementById(\"trash-number\");\n    if (elem && number != undefined) {\n        elem.textContent = number.toString();\n        trashShow(number !== 0);\n    }\n}\nexport function setFishNumber(number) {\n    const elem = document.getElementById(\"fish-number\");\n    if (elem && number != undefined) {\n        elem.textContent = number.toString();\n        fishShow(number !== 0);\n    }\n}\nexport function setBushNumber(number) {\n    const elem = document.getElementById(\"bush-number\");\n    if (elem && number != undefined) {\n        elem.textContent = number.toString();\n        bushShow(number !== 0);\n    }\n}\nexport function setJollyNumber(number) {\n    const elem = document.getElementById(\"jolly-number\");\n    if (elem && number != undefined) {\n        elem.textContent = number.toString();\n        jollyShow(number !== 0);\n    }\n}\n","import { BASE_URL, IsInPause, setIsInPause, setRobot, setSeed, setSize } from \"./variables\";\nimport { closeSockets, initUpdateSockets, sendCommand } from \"./websocket\";\nimport { Command } from \"./request\";\nimport { resizeCanvas } from \"./draw\";\nexport function addListeners() {\n    document.getElementById('reset').addEventListener('click', () => {\n        sendCommand(Command.Stop);\n        closeSockets();\n        window.location.reload();\n    });\n    window.addEventListener('load', async () => {\n        try {\n            // Fetch robots and populate dropdown\n            const response = await fetch(`${BASE_URL}/robots`);\n            if (!response.ok) {\n                throw new Error('Failed to fetch robots from the server');\n            }\n            const data = await response.json();\n            const robots = data.robots;\n            if (!Array.isArray(robots)) {\n                throw new Error('Response data is not an array');\n            }\n            const robotSelect = document.getElementById('robot');\n            robots.forEach((robot) => {\n                const option = document.createElement('option');\n                option.value = robot;\n                option.text = robot;\n                robotSelect.add(option);\n            });\n        }\n        catch (error) {\n            console.error(error);\n            alert('An error occurred while fetching robots from the server');\n        }\n        // Handle \"Generate seed\" button click for seed\n        document.getElementById('generate-seed').addEventListener('click', async function () {\n            try {\n                const response = await fetch(`${BASE_URL}/randomSeed`);\n                if (!response.ok) {\n                    throw new Error('Failed to fetch random seed from the server');\n                }\n                const data = await response.json();\n                // Update the seed input field with the random seed value\n                const seedInput = document.getElementById('seed');\n                seedInput.value = data.seed.toString();\n            }\n            catch (error) {\n                console.error(error);\n                alert('An error occurred while fetching random seed from the server');\n            }\n        });\n        // Handle \"show advanced\" click\n        const showAdvanced = document.getElementById('show-advanced');\n        const advancedOptions = document.getElementById('advanced-options');\n        const advanceTitle = document.getElementById('show-advanced-title');\n        if (showAdvanced && advancedOptions && advanceTitle) {\n            showAdvanced.addEventListener('click', () => {\n                if (advancedOptions.style.display == '' || advancedOptions.style.display == 'none') {\n                    advancedOptions.style.display = 'block';\n                    advanceTitle.textContent = 'Hide';\n                }\n                else {\n                    advancedOptions.style.display = 'none';\n                    advanceTitle.textContent = 'Show advanced';\n                }\n            });\n        }\n        const uploadWorldInput = document.getElementById('upload-world');\n        const downloadWorldCheckbox = document.getElementById('download-world');\n        const startButton = document.getElementById('start-button-title');\n        const updateStartButton = () => {\n            if (uploadWorldInput.files && uploadWorldInput.files.length > 0) {\n                startButton.textContent = 'Upload & start';\n                document.getElementById('world-size').disabled = true;\n                document.getElementById('seed').disabled = true;\n                document.getElementById('download-world').disabled = true;\n                document.getElementById('generate-seed').disabled = true;\n                document.getElementById('wait').disabled = false;\n                document.getElementById('robot').disabled = false;\n            }\n            else if (downloadWorldCheckbox.checked) {\n                startButton.textContent = 'Download';\n                document.getElementById('robot').disabled = true;\n                document.getElementById('wait').disabled = true;\n                document.getElementById('upload-world').disabled = true;\n            }\n            else {\n                startButton.textContent = 'Start';\n                document.getElementById('world-size').disabled = false;\n                document.getElementById('seed').disabled = false;\n                document.getElementById('generate-seed').disabled = false;\n                document.getElementById('wait').disabled = false;\n                document.getElementById('robot').disabled = false;\n            }\n        };\n        downloadWorldCheckbox.addEventListener('change', updateStartButton);\n        uploadWorldInput.addEventListener('change', updateStartButton);\n        downloadWorldCheckbox.addEventListener('change', () => {\n            const isDownloadChecked = downloadWorldCheckbox.checked;\n            document.getElementById('robot').disabled = isDownloadChecked;\n            document.getElementById('wait').disabled = isDownloadChecked;\n            document.getElementById('generate-seed').disabled = false;\n            const startButton = document.getElementById('start-button-title');\n            startButton.textContent = isDownloadChecked ? 'Download' : (uploadWorldInput.files && uploadWorldInput.files.length > 0 ? 'Upload and start' : 'Start');\n            document.getElementById('upload-world').disabled = isDownloadChecked;\n        });\n        document.getElementById('generate-form').addEventListener('submit', async function (event) {\n            event.preventDefault();\n            const worldSize = document.getElementById('world-size').value;\n            const seed = document.getElementById('seed').value;\n            const wait = document.getElementById('wait').value;\n            const robot = document.getElementById('robot').value;\n            const isDownloadChecked = downloadWorldCheckbox.checked;\n            const isFileSelected = uploadWorldInput.files && uploadWorldInput.files.length > 0;\n            const formData = {\n                worldSize: parseInt(worldSize),\n                seed: parseInt(seed),\n                wait: parseInt(wait),\n                robot: robot\n            };\n            try {\n                // Show the loading bar\n                const loadingBarContainer = document.getElementById('loading');\n                loadingBarContainer.style.display = 'flex';\n                if (uploadWorldInput.files && uploadWorldInput.files.length > 0) {\n                    const file = uploadWorldInput.files[0];\n                    const formData = new FormData();\n                    formData.append('world', file);\n                    formData.append('robot', robot);\n                    formData.append('wait', wait);\n                    const response = await fetch(`${BASE_URL}/uploadWorld`, {\n                        method: 'POST',\n                        body: formData\n                    });\n                    if (!response.ok) {\n                        throw new Error('Failed to upload file to the server');\n                    }\n                    start();\n                    setSeed('?');\n                    setRobot(robot);\n                    const modal = document.getElementById('modal');\n                    if (modal) {\n                        modal.style.display = 'none';\n                    }\n                }\n                else if (isDownloadChecked) {\n                    const response = await fetch(`${BASE_URL}/downloadWorld`, {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json'\n                        },\n                        body: JSON.stringify({\n                            worldSize: formData.worldSize,\n                            seed: formData.seed\n                        })\n                    });\n                    if (!response.ok) {\n                        throw new Error('Failed to send data to the server');\n                    }\n                    // Download the file using fetch\n                    const downloadUrl = `${BASE_URL}/worlds/cobblestone_world.zst`;\n                    try {\n                        const downloadResponse = await fetch(downloadUrl);\n                        if (!downloadResponse.ok) {\n                            throw new Error(`Failed to download file: ${downloadUrl}`);\n                        }\n                        const blob = await downloadResponse.blob();\n                        const filename = 'cobblestone_world.zst'; // Adjust filename if needed\n                        const link = document.createElement('a');\n                        link.href = URL.createObjectURL(blob);\n                        link.download = filename;\n                        link.click();\n                    }\n                    catch (error) {\n                        console.error('Error downloading file:', error);\n                        alert('Failed to download the file.'); // Inform user about download failure\n                    }\n                }\n                else {\n                    const response = await fetch(`${BASE_URL}/generate`, {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json'\n                        },\n                        body: JSON.stringify(formData)\n                    });\n                    if (!response.ok) {\n                        throw new Error('Failed to send data to the server');\n                    }\n                    // Hide the modal\n                    const modal = document.getElementById('modal');\n                    if (modal) {\n                        modal.style.display = 'none';\n                    }\n                }\n                // Hide the loading bar\n                loadingBarContainer.style.display = 'none';\n                if (!isDownloadChecked && !isFileSelected) {\n                    setSize(worldSize);\n                    setSeed(seed);\n                    setRobot(robot);\n                    start();\n                }\n            }\n            catch (error) {\n                alert(`An error occurred while sending data to the server\\n${error}`);\n                // Hide the loading bar\n                const loadingBarContainer = document.getElementById('loading');\n                loadingBarContainer.style.display = 'none';\n            }\n        });\n    });\n    window.addEventListener('resize', resizeCanvas);\n    window.addEventListener('load', resizeCanvas);\n    document.getElementById('pause').addEventListener('click', () => {\n        setIsInPause(!IsInPause());\n        const btn = document.getElementById('pause');\n        const title = document.getElementById('pause-title');\n        if (IsInPause() && title && btn) {\n            title.textContent = 'Resume';\n            sendCommand(Command.Pause);\n        }\n        else {\n            title.textContent = 'Pause';\n            sendCommand(Command.Resume);\n        }\n    });\n    document.addEventListener(\"DOMContentLoaded\", function () {\n        const logBox = document.getElementById('log-box');\n        const toggleLogButton = document.getElementById('toggle-log');\n        const title = document.getElementById('log-title');\n        toggleLogButton.addEventListener('click', function () {\n            if (logBox.style.display === 'none' || logBox.style.display === '') {\n                logBox.style.display = 'block';\n                title.textContent = 'Hide Logs';\n            }\n            else {\n                title.textContent = 'Show Logs';\n                logBox.style.display = 'none';\n            }\n        });\n    });\n}\nfunction start() {\n    new Promise(resolve => setTimeout(resolve, 500)).then(() => {\n        sendCommand(Command.Start);\n        initUpdateSockets();\n    });\n}\naddListeners();\n"],"names":["BASE_URL","isInPause","world_size","setSize","value","parseInt","elem","document","getElementById","textContent","getWorldSize","setSeed","setRobot","IsInPause","Command","WeatherType","DayTime","TileType","ContentType","CANVAS_SIDE","TILE_SIZE","BIN_IMAGE","Image","src","CHEST_IMAGE","COBBLESTONE","COIN_IMAGE","CRATE_IMAGE","DEEP_WATER_IMAGE","HILL_IMAGE","FIRE_IMAGE","FISH_IMAGE","GRASS_IMAGE","LAVA_IMAGE","MARKET_IMAGE","TELEPORT_IMAGE","SAND_IMAGE","SNOW_IMAGE","STREET_IMAGE","TRASH_IMAGE","TREE_IMAGE","WALL_IMAGE","WATER_IMAGE","STONE_IMAGE","BUSH_IMAGE","SCARECROW","LUCKY_IMAGE","ROBOT_IMAGE","resizeCanvas","canvas","Math","min","window","innerWidth","sidebarWidth","innerHeight","verticalMargin","floor","width","height","commandSocket","WebSocket","replace","updatesSocket","sendCommand","command","request","readyState","OPEN","send","JSON","stringify","alert","initUpdateSockets","onclose","console","log","onerror","error","onopen","event","onmessage","update","parse","data","row","col","setCoordinates","robot_data","coordinate","toString","setEnergy","energy_level","number","undefined","show","style","display","stoneShow","setStoneNumber","backpack","Rock","woodShow","setWoodNumber","Tree","trashShow","setTrashNumber","Garbage","fireShow","setFireNumber","Fire","coinShow","setCoinNumber","Coin","waterShow","setWaterNumber","Water","fishShow","setFishNumber","Fish","bushShow","setBushNumber","Bush","jollyShow","setJollyNumber","JollyBlock","time","day_time","weather","setTime","environment","weatherImg","base","Sunny","Rainy","Foggy","TropicalMonsoon","TrentinoSnow","Morning","Afternoon","Night","setWeather","world_map","length","ctx","getContext","clearRect","tile","x","y","tile_type","DeepWater","drawImage","ShallowWater","Sand","Grass","Street","Hill","Mountain","Snow","Lava","Teleport","Wall","content","Bin","Crate","Bank","Market","Scarecrow","Building","None","strokeStyle","lineWidth","strokeRect","drawMap","map","logBox","e","children","removeChild","firstChild","logEntry","createElement","className","appendChild","scrollTop","scrollHeight","addEventEntry","includes","getRobot","Stop","closeSockets","close","start","Promise","resolve","setTimeout","then","Start","addEventListener","location","reload","async","response","fetch","ok","Error","robots","json","Array","isArray","robotSelect","forEach","robot","option","text","add","seed","showAdvanced","advancedOptions","advanceTitle","uploadWorldInput","downloadWorldCheckbox","startButton","updateStartButton","files","disabled","checked","isDownloadChecked","preventDefault","worldSize","wait","isFileSelected","formData","loadingBarContainer","file","FormData","append","method","body","modal","headers","downloadUrl","downloadResponse","blob","filename","link","href","URL","createObjectURL","download","click","v","btn","title","Pause","Resume","toggleLogButton"],"sourceRoot":""}